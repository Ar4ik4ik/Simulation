# 2D-Симуляция Жизни

Это пошаговая симуляция 2D-мира, населённого травоядными и хищниками. В этом мире также есть ресурсы в виде травы, которой питаются травоядные. Кроме того, есть статичные объекты, которые не могут взаимодействовать с другими элементами мира (деревья и камни).

---

## Особенности

- **Мир** представлен в виде матрицы `NxM`. Каждое существо или объект занимает одну клетку. Нахождение нескольких объектов/существ в одной клетке недопустимо.
- **Существа**:
  - Испытывают голод, который уменьшает их здоровье.
  - Двигаются к своей цели.
  - Поедают траву / добычу, если находятся рядом с ней.
- **Хищники**:
  - Атакуют свою цель, пока у нее есть здоровье.
  - После убийства цели могут её съесть.
- **Создание существ** происходит в начале симуляции.
- Пользователь может:
  - **Останавливать симуляцию**.
  - **Выходить из симуляции**.
  - **Перезагружать симуляцию**.

---

## Установка и Запуск

### Требования

- Python 3.9+
- Зависимости из `requirements.txt`

### Установка

1. Склонируйте репозиторий:
    ```bash
    git clone https://github.com/Ar4ik4ik/simulation
    cd simulation
    ```

2. Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

### Запуск

1. Запустите симуляцию:
    ```bash
    python -m main.simulation.py
    ```

---

## Настройки

Настройки симуляции задаются через конфигурационный файл или параметры в коде. Вы можете настроить:

- Размеры мира (`NxM`).
- Количество травы, камней, деревьев, хищников и травоядных.

Пример конфигурации:

```json
{
    "world_size": [20, 20],
    "balance": {
        "Grass": 0.2,
        "Tree": 0.2,
        "Rock": 0.1,
        "Herbivore": 0.1,
        "Predator": 0.05
    }
}
```

---

## Структура Проекта

```
.
├── conftest.py
└── main
    ├── __init__.py
    ├── actions.py
    ├── entities
    │   ├── __init__.py
    │   ├── dynamic
    │   │   ├── __init__.py
    │   │   ├── creature.py
    │   │   ├── herbivore.py
    │   │   └── predator.py
    │   ├── entity.py
    │   └── static.py
    ├── map_and_renderer
    │   ├── __init__.py
    │   ├── balance_conf.json
    │   ├── entity_generator.py
    │   ├── map.py
    │   └── renderer.py
    ├── path_finder
    │   ├── __init__.py
    │   ├── a_star.py
    │   └── path.py
    ├── simulation.py
    └── tests
        ├── __init__.py
        ├── creature_test.py
        ├── herbivore_test.py
        ├── map_test.py
        ├── path_test.py
        └── predator_test.py
```
## Основные модули и их функции
simulation.py
- Управляет основным циклом симуляции.
- Обрабатывает пользовательский ввод.
actions.py
- Описывает действия, которые выполняются существами за один ход.
map_and_renderer
- map.py: Основной класс для управления клетками и объектами на карте.
- renderer.py: Отвечает за отрисовку карты и состояния мира.
- entity_generator.py: Генерация объектов и существ на карте.
entities
- entity.py: Базовый класс для всех сущностей.
- static.py: Реализация статичных объектов (деревья, камни, трава).
- dynamic:
    - creature.py: Базовый класс для всех существ.
    - herbivore.py: Реализация травоядных.
    - predator.py: Реализация хищников.
path_finder
- Реализация алгоритмов поиска пути, включая алгоритм A*.

---

## Пример Работы

![Пример анимации симуляции](https://github.com/user-attachments/assets/6b0eba7d-855f-43b4-85b5-adad4348d09d)

---

## Тестирование
Тесты расположены в папке main/tests. Для их запуска используйте:

```bash
pytest main/tests/
```

---

## Пример использования
- После запуска симуляции на экране отобразится текущая карта мира.
- Управляйте симуляцией с помощью ввода команд:
  - 1 для продолжения симуляции
  - 0 для остановки симуляции

---

## TODO
- Реализация сохранения и загрузки состояния симуляции.
- Добавление более сложной логики взаимодействия между существами (Размножение, избегание хищников, интервал размещения).
- Оптимизация производительности для работы с большими картами

---

## Лицензия

Этот проект распространяется под лицензией MIT. См. [LICENSE](LICENSE) для получения дополнительной информации.

---

## Авторы

- **Arturo**  
  [GitHub](https://github.com/Ar4ik4ik) | [Email](mailto:arthursolokhin27@gmail.com)

